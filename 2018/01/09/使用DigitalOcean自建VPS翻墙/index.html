<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="è®°å½•ä¸€äº›è‡ªå·±çš„æ„Ÿæ‚Ÿå’Œå§¿åŠ¿">
  <meta name="keywords" content="">
  
    <link rel="icon" href="/favicon.ico">
  
    
  <title>ä½¿ç”¨DigitalOceanè‡ªå»ºVPSç¿»å¢™ | æœ±æ¢¦è¿ªçš„åšå®¢</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.css" />
</head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>æœ±æ¢¦è¿ªçš„åšå®¢</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link">é¦–é¡µ</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">å½’æ¡£</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">æ ‡ç­¾</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">å…³äºæˆ‘</a>
          
        </li>
      
    </ul>
  </div>
</header>

   <link href="/css/prism.css" rel="stylesheet" />
 
<main id='post'>
  <div class="content">
    <article>
        <section class="content markdown-body">
          <h1>ä½¿ç”¨DigitalOceanè‡ªå»ºVPSç¿»å¢™</h1>
          <div class='post-meta'>
            <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018å¹´01æœˆ09æ—¥</time>
            
            
              | 
                  <i class="fa fa-tags" aria-hidden="true"></i>
                
               
  <a href="/tags/#vpn" class='tag'>vpn</a>

  <a href="/tags/#ssh" class='tag'>ssh</a>


            
          </div>
          <p>ä»Šå¹´ä»¥æ¥å›½å†…åŠ å¤§äº†å¯¹VPNçš„ç®¡æ§ï¼Œå¯¼è‡´å¤§è§„æ¨¡vpnæœåŠ¡æä¾›å•†å…³é—­æœåŠ¡ã€‚å¦‚ä»Šä»…å‰©çš„ä¸€äº›vpnè½¯ä»¶ä¸æ˜¯æœåŠ¡ä¸ç¨³å®šæ—¶å¸¸æ‰çº¿å°±æ˜¯ä»·æ ¼æ˜‚è´µã€‚æ‰€ä»¥ï¼Œç°ä»Šç›¸æ¯”äºä»¥å‰çš„è´­ä¹°vpnæœåŠ¡ï¼Œä¸å¦‚è‡ªå·±æ­å»ºvpsæ›´ä¸ºæ˜æ™ºã€‚ä¸ä½†ç›¸å¯¹ä»·æ ¼ä½å»‰æ²¡æœ‰ä¸­é—´å•†èµšå·®ä»·ğŸ˜€ï¼Œè€Œä¸”ç‹¬ç«‹ä½¿ç”¨æœåŠ¡æ›´åŠ ç¨³å®šã€‚</p>
<h2 id="Digital-Ocean"><a href="#Digital-Ocean" class="headerlink" title="Digital Ocean"></a>Digital Ocean</h2><h3 id="äº‘ä¸»æœº"><a href="#äº‘ä¸»æœº" class="headerlink" title="äº‘ä¸»æœº"></a>äº‘ä¸»æœº</h3><p>digital ocean æ˜¯ä¸€å®¶å›½å¤–çš„vpsæä¾›å•†ã€‚é¦–å…ˆ<strong><a href="https://m.do.co/c/1504b9cf4e51" target="_blank" rel="noopener">æ‰“å¼€å®˜ç½‘</a></strong>æ³¨å†Œè´¦å·ï¼Œæ¿€æ´»é‚®ç®±ã€‚æ¥ç€ï¼Œä½ å°±å¯ä»¥åœ¨ä¸Šé¢åˆ›ç«‹å±äºè‡ªå·±çš„è™šæ‹Ÿä¸»æœºäº†ï¼Œä¸è¿‡åœ¨è¿™ä¹‹å‰ä½ éœ€è¦ç»‘å®šä¿¡ç”¨å¡æˆ–è€…ç›´æ¥åœ¨ä½ è´¦æˆ·é‡Œå†²å…¥5ç¾å…ƒæ‰èƒ½æ­£å¼å¼€å§‹ä½¿ç”¨ã€‚è¿™ä¸¤ç§æ–¹å¼æ²¡æœ‰æœ¬è´¨ä¸ŠåŒºåˆ«ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ç¬¬ä¸€ç§æ–¹å¼ï¼Œå…¶ä¼˜ç‚¹åœ¨äºé‡‡ç”¨çš„æ˜¯åä»˜è´¹çš„æ–¹å¼ï¼Œä½ èƒ½å¤Ÿå…ˆä½¿ç”¨æœåŠ¡å†ä»˜è´¹ï¼Œæ¯ä¸ªæœˆåº•ä¼šç»“ç®—ä¸€æ¬¡è´¹ç”¨å¹¶ç”Ÿæˆåˆ°ä½ çš„ä¿¡ç”¨å¡è´¦å•ä¸­ï¼Œä½ é¡»è¦æ¯ä¸ªæœˆæŒ‰æ—¶è¿˜æ¬¾ä¿¡ç”¨å¡å³å¯ï¼Œå½“ç„¶å®ƒçš„å…¥è´¦é‡‘é¢æ˜¯ç¾å…ƒï¼Œè¿˜æ¬¾æ—¶æŒ‰å½“æ—¶çš„æ±‡ç‡ç»“ç®—ã€‚</p>
<p>ç„¶åå°±å¯ä»¥åˆ›å»ºä½ çš„äº‘ä¸»æœºäº†ï¼Œåœ¨DigitalOceanä¸­çš„æ¦‚å¿µå«åšDropletsã€‚åƒé˜¿é‡Œäº‘ECSä¸€æ ·æä¾›äº†å¤šç§è§„æ ¼é€‰æ‹©<br><img src="https://d1ro8r1rbfn3jf.cloudfront.net/ms_150763/XQNeZdnQLafWEkE0MJn4tT1beNADQh/DigitalOcean%2B-%2BCreate%2BDroplets%2B2018-01-09%2B14-59-39.png?Expires=1515567628&amp;Signature=kKN6Z5Q7OwPPJSUlcZEFubioeWtrPmGurLOQEKbhbAz5I1hxE7SJ52OhbX6Xrcdq2TjliMQTtpSeuSm8v8QCaTJ2uLOXg739Pt3u646X2xOF2kYmdW3Ya7NPSNQsJNGFpMrCzaYys2CkcVAcQQzkJTDLROsJwoL~GXMSigz-RPmzq2A180cU1M0PfMRpVLQDAOjU4iLTSGhNbgQsu-KD15xrUukW7sqY-2~pZC5iY-e6XoBpg4Nd23m-C5mtDuw1SZIv6zJoME8pT6X0qhFMtUw2Oa5F8GQxcXX~MmkjgveSYX~wHVcncAe8MUlVCAc-exqYMG-ImDLr~bFrth6olg__&amp;Key-Pair-Id=APKAJHEJJBIZWFB73RSA" alt="è§„æ ¼å›¾ç‰‡"><br>å¯¹äºä¸ªäººæ¥è¯´ï¼Œé€‰æ‹©$5/mon æ¥æ”¯æ’‘shadowsocks[^1]çš„æœåŠ¡è¶³çŸ£ã€‚<br>è´­ä¹°æˆåŠŸä¹‹åï¼Œå°±èƒ½åœ¨ä¸ªäººèµ„æºä¸‹æ‰¾åˆ°è¿™å°ä¸»æœºï¼Œå¹¶ä¸”è´¦å·çš„æ³¨å†Œé‚®ç®±ä¼šæ”¶åˆ°ä¸€å°åŒ…å«rootè´¦å·å¯†ç çš„é‚®ä»¶<br><a href="https://d1ro8r1rbfn3jf.cloudfront.net/ms_150763/RK9OYZ9efOHKp7BNmuQ1VgPJA8DyW8/DigitalOcean%2B-%2BDroplets%2B2018-01-09%2B15-13-46.png?Expires=1515568463&amp;Signature=lUM2Y0llQCAuppDf2UnDxjEmZlFWLNLe3fklKZIEgdDsaa3E--zWQpXSgd8rumifIoRo5Iy8r683wxkeF5dn18t~c-9dH-yOsCLl~BbZwIWu80rpybLzvv4Cw8DgiJk9tFYaMEJ4bwpc38JsuG4BKuupgH~6jmshBYJf3kcbc7CE0FgC6rwYucKso-Q3I4CRXrqwHVqIkNyQyBKOmkXEATgB8wktDAsACmu1ToJJBkcZFwTQVwzOrF4OxAzH7An42ajViP1MVlTd1gDmBOP7T~RE~ti8vOLylsTo-kvFLLq0SE5uKqhoMEIzgoI3eVp67QmqPk7ce2tzno-~PEZ-JA__&amp;Key-Pair-Id=APKAJHEJJBIZWFB73RSA" target="_blank" rel="noopener"></a><br>æœ€åï¼Œå°±æ˜¯ç™»å…¥åˆ°è¿™å°äº‘ä¸»æœºï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆå‘çš„åœ°æ–¹ã€‚æŒ‰é“ç†è¯´æœ‰äº†ipå’Œå¯†ç åº”è¯¥å°±èƒ½ç›´æ¥sshè¿™å°ä¸»æœºäº†ï¼Œä½†æ˜¯æ–°åˆ›å»ºäº‘ä¸»æœºçš„sshdé…ç½®é»˜è®¤æ²¡æœ‰æ‰“å¼€sshçš„å¯†ç è®¿é—®æ–¹å¼ï¼ˆå¥½åƒåªæœ‰digital oceanè¿™ä¹ˆå¹²ï¼‰ï¼Œåªèƒ½åœ¨webç•Œé¢ä½¿ç”¨console accessè¿›å…¥æ§åˆ¶å°ã€‚è¿›å…¥webæ§åˆ¶å°ï¼Œä¿®æ”¹/etc/ssh/sshd_configæ–‡ä»¶ï¼Œå°†<strong>PasswordAuthentication no</strong>æ”¹ä¸º<strong>PasswordAuthentication yes</strong>ï¼Œå³å¯ä»sshå¯†ç è®¿é—®è¿™å°ä¸»æœºã€‚</p>
<h3 id="Shadowsocks"><a href="#Shadowsocks" class="headerlink" title="Shadowsocks"></a>Shadowsocks</h3><h4 id="åœ¨ä¸»æœºä¸Šå®‰è£…shadowsocks"><a href="#åœ¨ä¸»æœºä¸Šå®‰è£…shadowsocks" class="headerlink" title="åœ¨ä¸»æœºä¸Šå®‰è£…shadowsocks"></a>åœ¨ä¸»æœºä¸Šå®‰è£…shadowsocks</h4><p>é¦–å…ˆsshè¿œç¨‹ç™»å…¥åˆ°äº‘ä¸»æœºï¼Œæ¯”å¦‚ä¸»æœºipæ˜¯104.236.77.17</p>
<pre><code class="language-sh">ssh root@104.236.77.17
</code></pre>
<p>åœ¨ Debian / Ubuntu ä¸‹ å®‰è£…shadowsocks</p>
<pre><code class="language-shell">apt-get install python-pip
pip install shadowsocks
</code></pre>
<p>æˆ‘åœ¨å®é™…å®‰è£…ä¸‹å‘ç°å¾ˆå¤šä¾èµ–ç¼ºå¤±ï¼Œæ‰€ä»¥éœ€è¦å…ˆæ‰§è¡Œä¸€ä¸‹ï¼šapt-get updateã€‚å¦å¤–ä¹Ÿæœ‰ä¸€äº›åŒå­¦ä¼šé€‰æ‹©CentOSçš„æœåŠ¡å™¨ï¼Œé™„ä¸Šåœ¨CentOSä¸‹å®‰è£…shadowsocksçš„æ–¹æ³•ï¼š</p>
<pre><code class="language-shell">yum install python-setuptools &amp;&amp; easy_install pip
pip install shadowsocks
</code></pre>
<h4 id="å¯åŠ¨shadowsocksæœåŠ¡"><a href="#å¯åŠ¨shadowsocksæœåŠ¡" class="headerlink" title="å¯åŠ¨shadowsocksæœåŠ¡"></a>å¯åŠ¨shadowsocksæœåŠ¡</h4><p>å®‰è£…å¥½shadowsocksä»¥åï¼Œå¯åŠ¨shadowsocksæœåŠ¡å¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤ï¼š</p>
<pre><code class="language-shell">ssserver -p 8836 -k `password` -m rc4-md5

#æˆ–è€…å¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤åœ¨åå°å¯åŠ¨shadowsocksçš„æœåŠ¡ï¼š
ssserver -p 8836 -k `password` -m rc4-md5 -d start
ssserver -p 8836 -k `password` -m rc4-md5 -d stop
</code></pre>
<p>ä½†ä¸Šé¢çš„æ–¹æ³•å¾ˆä¸æ–¹ä¾¿ï¼Œæˆ‘è¿˜æ˜¯æ¨èä½¿ç”¨é…ç½®æ–‡ä»¶çš„æ–¹æ³•ã€‚é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼š/etc/shadowsocks.jsonï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="language-json">{
 &quot;server&quot;:&quot;ä½ çš„æœåŠ¡å™¨ipåœ°å€&quot;,
 &quot;server_port&quot;:8388,
 &quot;local_address&quot;: &quot;127.0.0.1&quot;,
 &quot;local_port&quot;:1080,
 &quot;password&quot;:&quot;ä½ è®¾ç½®çš„å¯†ç &quot;,
 &quot;timeout&quot;:300,
 &quot;method&quot;:&quot;aes-256-cfb&quot;,
 &quot;fast_open&quot;: false
}
</code></pre>
<p>æ¥ä¸‹æ¥ä½ å°±å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªæŒ‡ä»¤å¯åŠ¨æœåŠ¡</p>
<pre><code class="language-shell">ssserver -c /etc/shadowsocks.json

#æˆ–è€…åœ¨åå°è¿è¡Œ
ssserver -c /etc/shadowsocks.json -d start
ssserver -c /etc/shadowsocks.json -d stop
</code></pre>
<h4 id="ä½¿ç”¨shadowsockså®¢æˆ·ç«¯"><a href="#ä½¿ç”¨shadowsockså®¢æˆ·ç«¯" class="headerlink" title="ä½¿ç”¨shadowsockså®¢æˆ·ç«¯"></a>ä½¿ç”¨shadowsockså®¢æˆ·ç«¯</h4><p>shadowsocksçš„å®¢æˆ·ç«¯æ”¯æŒå„å¤§ä¸»æµå¹³å°ï¼Œè€Œä¸”å®¢æˆ·ç«¯çš„é…ç½®ä¸€èˆ¬éƒ½å¾ˆç®€å•ï¼Œåªéœ€è¦é…ç½®ä¸€ä¸‹æœåŠ¡å™¨çš„ipåœ°å€å’Œä¹‹å‰è®¾ç½®å¥½çš„è¿æ¥å¯†ç å³å¯ã€‚</p>
<p>ä¸‹è½½åœ°å€:<a href="https://github.com/shadowsocks/shadowsocks/wiki/Ports-and-Clients" target="_blank" rel="noopener">clients</a></p>

        </section>
    </article>
    
        <!-- disqus è¯„è®ºæ¡† start -->
        <div class="comment">
            <div id="disqus_thread" class="disqus-thread">
              <i>åŠ è½½è¯„è®ºæ¡†éœ€è¦ç¿»å¢™</i>
            </div>
        </div>
        <!-- disqus è¯„è®ºæ¡† end -->
    
        
  </div>
  <aside>
    
    <div class="toc-container">
        <h1>ç›®å½•</h1>
        <div class="content">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Digital-Ocean"><span class="toc-number">1.</span> <span class="toc-text">Digital Ocean</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#äº‘ä¸»æœº"><span class="toc-number">1.1.</span> <span class="toc-text">äº‘ä¸»æœº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shadowsocks"><span class="toc-number">1.2.</span> <span class="toc-text">Shadowsocks</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#åœ¨ä¸»æœºä¸Šå®‰è£…shadowsocks"><span class="toc-number">1.2.1.</span> <span class="toc-text">åœ¨ä¸»æœºä¸Šå®‰è£…shadowsocks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å¯åŠ¨shadowsocksæœåŠ¡"><span class="toc-number">1.2.2.</span> <span class="toc-text">å¯åŠ¨shadowsocksæœåŠ¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ä½¿ç”¨shadowsockså®¢æˆ·ç«¯"><span class="toc-number">1.2.3.</span> <span class="toc-text">ä½¿ç”¨shadowsockså®¢æˆ·ç«¯</span></a></li></ol></li></ol></li></ol>
        </div>
    </div>
    
  </aside>
</main>

<!-- disqus å…¬å…±JSä»£ç  -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES * * */
  var disqus_shortname = "zhuzhutalk";
  var disqus_identifier = "http://yoursit.com/2018/01/09/ä½¿ç”¨DigitalOceanè‡ªå»ºVPSç¿»å¢™/";
  var disqus_url = "http://yoursit.com/2018/01/09/ä½¿ç”¨DigitalOceanè‡ªå»ºVPSç¿»å¢™/";

  isAgent(getDisqus)

  // determine user agent in China
  function isAgent(cb) {
    var url = '//graph.facebook.com/feed?callback=h';
    var xhr = new XMLHttpRequest();
    var called = false;
    xhr.open('GET', url);
    xhr.onreadystatechange = function() {
      if (xhr.readyState === 4 && xhr.status === 200) {
      called = true;
      cb(true);
      }
    };
    xhr.send();
    // timeout 1s, this facebook API is very fast.
    setTimeout(function() {
      if (!called) {
      xhr.abort();
      cb(false)
      }
    }, 1000);
  }

  function getDisqus(isAgent) {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; 
    dsq.async = true
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq)
  }
</script>
<!-- disqus å…¬å…±JSä»£ç  end -->








  <footer>
  <div class="copyright">
    <div>
      &copy; 2018 | Powered by <a href="https://hexo.io" target="_blank">Hexo</a>&nbsp
    </div>
    <div>
      Theme by <a href="https://github.com/lewis-geek/hexo-theme-Aath" target="_blank">Aath</a>
    </div>
  </div>
</footer>


<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="/lib/in-view.min.js"></script>
<script src="/lib/lodash.min.js"></script>
<script>
  var isDown = true
  var oldY = 0
  inView.offset(50)

  document.body.addEventListener('touchstart', function(){});
  
  window.addEventListener('scroll', _.throttle(e => {
    var currentY = window.scrollY
    if((oldY - currentY) < 0) {
      isDown = true
    } else {
      isDown = false
    }
    oldY = currentY
  }, 250))

  $("article img").each(function() {
      var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
      $(this).wrapAll(strA);
  });

  $('.toc-link').each(function() {
      var href = $(this).attr("href");
      
      inView(href).on('exit', () => {
        if (isDown) {
          handleActive(href)
        }
      })

      inView(href).on('enter', () => {
        if (!isDown) {
          handleActive(href)
        }
      })

      this.onclick = function(e) {
        var pos = $(href).offset().top - 10;
        $("html,body").animate({scrollTop: pos}, 300);
        setTimeout(() => {
          handleActive(href)
        }, 350)
        return false
      }
  })

  function handleActive(href) {
    document.querySelectorAll('.toc-link').forEach(elm => {
      elm.classList.remove('active')
    })
    document.querySelector(".toc [href='"+ href +"']").classList.add('active')
  }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.js"></script>



<script src="/js/prism.js"></script>



</body>
</html>
